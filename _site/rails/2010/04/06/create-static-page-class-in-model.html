<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Qichunren website">
    <meta name="author" content="Qichunren">
    <title>Static site using rails - Qichunren blog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="/assets/css/main.css?v1">
  </head>

  <body class="has-navbar-fixed-top page-index">

    <main class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-2 col-sm-12">

          <div class="card" >
            <img class="card-img-top rounded-circle" src="https://avatars.githubusercontent.com/u/39784?v=4" />
            <div class="card-body">
              <p class="card-text">Qichunren</p>
            </div>
          </div>

          <ul class="nav flex-column mt-5">
            <li class="nav-item">
              <a class="nav-link px-0" href="/index.html">Posts</a>
            </li>
            <li class="nav-item">
              <a class="nav-link px-0" href="/about.html">About</a>
            </li>
          </ul>
        
        </div>
        <div class="col-9 offset-1">
          <div class="post_head mb-5 border-bottom">
            <h1>Static site using rails</h1>
            <div class="meta">2010-04-06</div>
          </div>
          
          <div class="post_content"><p>原文地址：<a href="http://railstech.com/?p=89">Static site using rails</a>.</p>

<p>As we know rails is mainly used for dynamic website.we can also display static web pages or we can deploy full static website using rails.
The following code can help us to display static pages.</p>

<ul>
  <li>
    <p>Step 1:-Create Rails project</p>

    <p>rails static_site</p>
  </li>
  <li>
    <p>Step 2:-Generate StaticPage Controller</p>

    <p>ruby script/generate controller static_pages page</p>
  </li>
  <li>
    <p>Step 3:- Create StaticPage Class in Model</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">class</span> <span class="nc">StaticPage</span>
  <span class="no">Formats</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">"html"</span> <span class="o">=&gt;</span> <span class="s2">"text/html"</span><span class="p">,</span>
      <span class="s2">"png"</span> <span class="o">=&gt;</span> <span class="s2">"image/png"</span><span class="p">,</span>
      <span class="s2">"jpg"</span> <span class="o">=&gt;</span> <span class="s2">"image/jpg"</span>
    <span class="p">}</span>
<span class="k">end</span></code></pre></figure>

<ul>
  <li>
    <p>Step 4:- Add following line in routes.rb</p>

    <p>map.page “page/:filename.:format”, :controller =&gt; ‘static_pages’, :action =&gt; ‘page’</p>
  </li>
  <li>
    <p>Step 5:- Now add following line into static_pages controller</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">page</span>
 <span class="n">send_file</span>
 <span class="s2">"</span><span class="si">#{</span><span class="no">Rails</span><span class="p">.</span><span class="nf">root</span><span class="si">}</span><span class="s2">/app/views/static_pages/</span><span class="si">#{</span><span class="n">params</span><span class="p">[</span><span class="ss">:filename</span><span class="p">]</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">params</span><span class="p">[</span><span class="ss">:format</span><span class="p">]</span><span class="si">}</span><span class="s2">"</span><span class="p">,</span><span class="ss">:disposition</span> <span class="o">=&gt;</span><span class="s1">'inline'</span><span class="p">,</span><span class="ss">:type</span> <span class="o">=&gt;</span> <span class="no">StaticPage</span><span class="o">::</span><span class="no">Formats</span><span class="p">[</span><span class="n">params</span><span class="p">[</span><span class="ss">:format</span><span class="p">]]</span>
 <span class="k">end</span></code></pre></figure>

<ul>
  <li>Step 6:- All the static pages place in RAILS_ROOT/app/views/static_pages/ folder</li>
</ul>

<p>Step 7 :- Start server and Type url as shown below.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ruby script/server
</code></pre></div></div>

</div>
        </div>
      </div>
    </div>
    </main>
  </body>
</html>