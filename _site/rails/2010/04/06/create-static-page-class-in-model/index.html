<html>
  <head>
    <meta content='Static site using rails - 蕲春人的博客' property='og:title' />
    <title>Static site using rails - 蕲春人的博客</title>
    <link href='/images/fav.png' rel='shortcut icon'>
<link href='/stylesheets/style.css' rel='stylesheet' type='text/css' />
<link href='/stylesheets/syntax.css' rel='stylesheet' type='text/css' />
<link href='/stylesheets/responsive.css' rel='stylesheet' type='text/css' />
<!-- - -->
<script src='/javascripts/jquery.js' type='text/javascript'></script>
<script src='/javascripts/pd.js' type='text/javascript'></script>
<script src='/javascripts/basics.js' type='text/javascript'></script>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<!-- - -->
<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type' />
<meta content="http://muan.co/images/og.png" property="og:image" />
<meta content="" property="fb:app_id" />

  <meta content='/rails/2010/04/06/create-static-page-class-in-model/' property='og:url' />
  <meta content="原文地址：[Static site using rails](http://railstech.com/?p=89).As we know rails is mainly used for dynamic website.we ..." property='og:description' />
  <meta content="article" property="og:type" />

<!-- - -->
<script type='text/javascript'>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-6344646-4']);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  //]]>
</script>

  </head>
  <body>
    <header>
<p>蕲春人的博客</p>
</header>
    <div id='container'>
      <div class="block">
  
    <a target="_top" class="main" href="/about">About</a>
  
    <a target="_blank" class="main" href="http://qichunren.github.io">Blog</a>
  
    <a target="_blank" class="main" href="mailto:whyruby@gmail.com">Email</a>
  
    <a target="_blank" class="main" href="http://github.com/qichunren">GitHub</a>
  
</div>
      <section class="paging">
  
    <div class="left">
      <a href="/life/2010/02/01/buy-tickets/">
        ‹
      </a>
    </div>
  
  
    <div class="right">
      <a href="/tool/github/2010/05/05/create-a-blog-at-github/">
        ›
      </a>
    </div>
  
</section>
      <div class="content">
        <section class='post'>
          <h1 class="upcase">
            <div class='date'>06 Apr 2010</div>
            Static site using rails
          </h1>
          <p>原文地址：<a href="http://railstech.com/?p=89">Static site using rails</a>.</p>

<p>As we know rails is mainly used for dynamic website.we can also display static web pages or we can deploy full static website using rails.
The following code can help us to display static pages.</p>

<ul>
<li>Step 1:-Create Rails project</li>
</ul>
<div class="highlight"><pre><code class="text language-text" data-lang="text">rails static_site
</code></pre></div>
<ul>
<li>Step 2:-Generate StaticPage Controller</li>
</ul>
<div class="highlight"><pre><code class="text language-text" data-lang="text">ruby script/generate controller static_pages page
</code></pre></div>
<ul>
<li>Step 3:- Create StaticPage Class in Model</li>
</ul>

<div class="highlight"><pre><code class="ruby"><span class="k">class</span> <span class="nc">StaticPage</span>
  <span class="no">Formats</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s2">&quot;html&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
      <span class="s2">&quot;png&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;image/png&quot;</span><span class="p">,</span>
      <span class="s2">&quot;jpg&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;image/jpg&quot;</span>
    <span class="p">}</span>
<span class="k">end</span>
</code></pre></div>

<ul>
<li>Step 4:- Add following line in routes.rb</li>
</ul>
<div class="highlight"><pre><code class="text language-text" data-lang="text">map.page &quot;page/:filename.:format&quot;, :controller =&gt; &#39;static_pages&#39;, :action =&gt; &#39;page&#39;
</code></pre></div>
<ul>
<li>Step 5:- Now add following line into static_pages controller</li>
</ul>

<div class="highlight"><pre><code class="ruby"><span class="k">def</span> <span class="nf">page</span>
 <span class="n">send_file</span>
 <span class="s2">&quot;</span><span class="si">#{</span><span class="no">Rails</span><span class="o">.</span><span class="n">root</span><span class="si">}</span><span class="s2">/app/views/static_pages/</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:filename</span><span class="o">]</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">params</span><span class="o">[</span><span class="ss">:format</span><span class="o">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span><span class="ss">:disposition</span> <span class="o">=&gt;</span><span class="s1">&#39;inline&#39;</span><span class="p">,</span><span class="ss">:type</span> <span class="o">=&gt;</span> <span class="no">StaticPage</span><span class="o">::</span><span class="no">Formats</span><span class="o">[</span><span class="n">params</span><span class="o">[</span><span class="ss">:format</span><span class="o">]]</span>
 <span class="k">end</span>
</code></pre></div>

<ul>
<li>Step 6:- All the static pages place in RAILS<em>ROOT/app/views/static</em>pages/ folder</li>
</ul>

<p>Step 7 :- Start server and Type url as shown below.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">ruby script/server
</code></pre></div>
          <br />
<p>
  蕲春人
  <span class="muted">at 09:12</span>
</p>
<p>
  <img src="/images/scribble3.png" alt="scribble" />
</p>


        </section>
      </div>
      

      
      <div class="block">
  
    <a target="_top" class="main" href="/about">About</a>
  
    <a target="_blank" class="main" href="http://qichunren.github.io">Blog</a>
  
    <a target="_blank" class="main" href="mailto:whyruby@gmail.com">Email</a>
  
    <a target="_blank" class="main" href="http://github.com/qichunren">GitHub</a>
  
</div>
    </div>
    <footer>
  <a href="http://github.com/muan/scribble" class="muted">built with Jekyll using Scribble theme</a>
</footer>
  </body>
</html>
